@import 'nib'

$header-height = 44px
$border-bottom = 1px
$border-top = 1px

div.headerBackground, header
  z-index 11
  position absolute
  top 0
  left 0
  right 0
  height $header-height - $border-bottom - $border-top

div.headerBackground
  z-index 10
  background-color #111

  .android &
    display none

header
  border-bottom #000 $border-bottom solid
  background-color #444

  .ios &
    border-top #787878 $border-top solid
    border-top-right-radius 4px
    border-top-left-radius 4px
    background-image linear-gradient(top, #555 0%, #111 100%)
    box-shadow 0 1px 10px rgba(0, 0, 0, 0.5)

  .android &
    background-color #000

  h1
    z-index 12
    top 0
    left 75px
    right 75px

    position absolute
    margin 0
    padding 0
    height $header-height - 2px
    line-height $header-height - 2px

    font-size 19px
    font-weight bold
    overflow ellipsis
    text-transform none

    .ios &
      color #e9e9e9
      text-shadow rgba(0, 0, 0, 1) 0 -1px 0
      text-align center

      a
        display none

    .android &
      right 50px
      color #ccc
      font-weight 500
      font-size 18px
      left 2px

      span
        display block
        float left
        height $header-height - 2px
        cursor pointer
        background-repeat no-repeat

      a
        &.selectable
          &.active, &.selected
            background-color #df5d5d

        span:nth-child(1)
          visibility hidden
          width 14px
          background-position center left

        span:nth-child(2)
          width 36px
          margin-right 5px
          background-position center 7px

      span.text
        position absolute
        top 0
        left 55px
        right 0
        overflow ellipsis

    transition-property opacity, -webkit-transform
    transition-timing-function cubic-bezier(.2, .14, .25, .81), ease-in-out
    transition-duration 400ms
    opacity 1
    transform translate3d(0, 0, 0)

    &.right
      opacity 0

      .ios &
        transform translate3d(100%, 0, 0)

    &.left
      opacity 0

      .ios &
        transform translate3d(-100%, 0, 0)

    &.fade
      opacity 0

  > a
    position absolute
    top 0
    bottom 0
    .ios &
      width 90px

    .android &
      width 48px

      &.active, &.selected
        background-color #df5d5d

    text-decoration none

    transition-property opacity, -webkit-transform
    transition-timing-function ease-in-out
    transition-duration 400ms

    opacity 0

    .ios &.hit
      bottom -50px

    &.button-left
      left 0
      opacity 1
      transform translate3d(0, 0, 0)

      // Back button is invisible on Android
      .android &
        display none

      &.right
        opacity 0
        transform translate3d(150px, 0, 0)

      &.left
        opacity 0
        transform translate3d(-150px, 0, 0)

      &.fade
        opacity 0

      .button
        left 5px

    &.button-right
      right 0

      transition-timing-function ease-in

      &.show
        opacity 1

      .button
        width 45px
        right 5px
        padding 0

        .ios &.upload
          width 55px

    .button
      position absolute
      bottom 6px
      line-height $header-height - 16px
      height $header-height - 15px

      display block
      padding 0 5px
      min-width auto

      font-size 12px
      overflow ellipsis
      color #e9e9e9

      .ios &
        top 5px
        width 55px
        border-radius 5px
        text-shadow rgba(0, 0, 0, 0.8) 0 -1px 0
        border-style solid
        border-width 1px
        border-color #111 #222 #333
        box-shadow inset 0 1px 1px #666

      .ios &.active, .ios &.selected
        box-shadow inset 0 -1px 1px #111

      .android &
        top 9px
        width 24px
        right 10px
        background transparent

        span:first-child
          display block
          width 24px
          height 24px

        span:last-child
          display none

      &.small
        font-size 9px
