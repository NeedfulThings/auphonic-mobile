@import 'nib'

$header-height = 42px
$status-bar-height = 20px

header
  box-sizing border-box
  z-index 11
  position absolute
  top 0
  left 0
  right 0
  height $header-height + $status-bar-height

  border-bottom #d7d7d7 1px solid
  background-color #f7f7f7

  > div
    position absolute
    top $status-bar-height
    left 0
    right 0
    bottom 0

  .ios &
    box-shadow 0 1px 2px rgba(155, 155, 155, 0.1)

  h1
    z-index 14
    top 0
    left 80px
    right 80px

    position absolute
    margin 0
    padding 0
    height $header-height - 2px
    line-height $header-height - 2px

    font-size 16px
    font-weight bold
    overflow ellipsis
    text-transform none
    text-align center
    color #000

    transition-property opacity, color, -webkit-transform
    transition-timing-function cubic-bezier(.2, .14, .25, .81), ease-in-out, ease-in-out
    transition-duration 350ms
    opacity 1
    transform translate3d(0, 0, 0)

    &.right
      opacity 0

      .ios &
        transform translate3d(100%, 0, 0)

    &.left
      opacity 0

      .ios &
        color $color-link
        transform translate3d(-65%, 0, 0)

    &.fade
      opacity 0

  div.back-button
    z-index 13
    position absolute
    left 0
    top 0
    bottom 0
    width 21px

    pointer-events none

    transition-property opacity
    transition-timing-function ease-in-out
    transition-delay 150ms
    transition-duration 200ms
    opacity 1

    background-repeat no-repeat
    background-position center

    &.fade
      transition-delay 0ms
      transition-duration 350ms
      opacity 0

  a.button-left, a.button-right
    z-index 12
    position absolute
    top 0
    bottom 0
    .ios &
      width 90px

    text-decoration none

    transition-property opacity, -webkit-transform
    transition-timing-function ease-in-out
    transition-duration 350ms

    opacity 0

    .ios &.hit
      bottom -50px

    &.button-left
      left 0
      opacity 1
      transform translate3d(0, 0, 0)

      &.right
        opacity 0
        transform translate3d(150px, 0, 0)

      &.left
        opacity 0
        transform translate3d(-150px, 0, 0)

      &.fade
        opacity 0

      // Back button is invisible on Android
      .android &
        display none

      .ios & .button
        top 6px
        width 90px
        padding-left 25px

    &.button-right
      right 0
      width 48px

      transition-timing-function ease-in

      &.show
        opacity 1

      .button
        top 9px
        width 24px
        right 0

        span:first-child
          display block
          width 24px
          height 24px

        span:last-child
          display none

    .button
      position absolute
      bottom 6px
      line-height $header-height - 14px
      height $header-height - 15px

      display block
      padding 0 5px
      min-width auto
      text-align left

      overflow ellipsis
      background transparent
